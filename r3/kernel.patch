From 8c1d4ac7197e6dd1935521db8a1a1c3c2ea445f2 Mon Sep 17 00:00:00 2001
From: Leo Barsky <leobrsky@proton.me>
Date: Tue, 15 Jul 2025 11:45:29 -0400
Subject: [PATCH 1/2] kernel: bump 6.6 to 6.6.99

Changelog: https://cdn.kernel.org/pub/linux/kernel/v6.x/ChangeLog-6.6.99

All patches auto refreshed.

Signed-off-by: Leo Barsky <leobrsky@proton.me>
---
 target/linux/generic/hack-6.6/902-debloat_proc.patch          | 2 +-
 target/linux/generic/kernel-6.6                               | 4 ++--
 .../806-v6.9-pwm-mediatek-add-support-for-MT7988.patch        | 4 ++--
 3 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/target/linux/generic/hack-6.6/902-debloat_proc.patch b/target/linux/generic/hack-6.6/902-debloat_proc.patch
index 64472ad18f..886111a66c 100644
--- a/target/linux/generic/hack-6.6/902-debloat_proc.patch
+++ b/target/linux/generic/hack-6.6/902-debloat_proc.patch
@@ -235,7 +235,7 @@ Signed-off-by: Felix Fietkau <nbd@nbd.name>
  	if (!pe)
 --- a/mm/vmalloc.c
 +++ b/mm/vmalloc.c
-@@ -4450,6 +4450,8 @@ static const struct seq_operations vmall
+@@ -4458,6 +4458,8 @@ static const struct seq_operations vmall
  
  static int __init proc_vmalloc_init(void)
  {
diff --git a/target/linux/generic/kernel-6.6 b/target/linux/generic/kernel-6.6
index 1e572366f2..1570562ec6 100644
--- a/target/linux/generic/kernel-6.6
+++ b/target/linux/generic/kernel-6.6
@@ -1,2 +1,2 @@
-LINUX_VERSION-6.6 = .98
-LINUX_KERNEL_HASH-6.6.98 = 296a34c500abc22c434b967d471d75568891f06a98f11fc31c5e79b037f45de5
+LINUX_VERSION-6.6 = .99
+LINUX_KERNEL_HASH-6.6.99 = 77a949b3a8a474263fcf1b1f462d8bee1ad1d7e2162846de7fdc025297bc1862
diff --git a/target/linux/mediatek/patches-6.6/806-v6.9-pwm-mediatek-add-support-for-MT7988.patch b/target/linux/mediatek/patches-6.6/806-v6.9-pwm-mediatek-add-support-for-MT7988.patch
index 946f3a5252..09e4be3b34 100644
--- a/target/linux/mediatek/patches-6.6/806-v6.9-pwm-mediatek-add-support-for-MT7988.patch
+++ b/target/linux/mediatek/patches-6.6/806-v6.9-pwm-mediatek-add-support-for-MT7988.patch
@@ -20,7 +20,7 @@ Signed-off-by: Uwe Kleine-König <u.kleine-koenig@pengutronix.de>
 
 --- a/drivers/pwm/pwm-mediatek.c
 +++ b/drivers/pwm/pwm-mediatek.c
-@@ -345,6 +345,13 @@ static const struct pwm_mediatek_of_data
+@@ -348,6 +348,13 @@ static const struct pwm_mediatek_of_data
  	.reg_offset = mtk_pwm_reg_offset_v1,
  };
  
@@ -34,7 +34,7 @@ Signed-off-by: Uwe Kleine-König <u.kleine-koenig@pengutronix.de>
  static const struct pwm_mediatek_of_data mt8183_pwm_data = {
  	.num_pwms = 4,
  	.pwm45_fixup = false,
-@@ -375,6 +382,7 @@ static const struct of_device_id pwm_med
+@@ -378,6 +385,7 @@ static const struct of_device_id pwm_med
  	{ .compatible = "mediatek,mt7629-pwm", .data = &mt7629_pwm_data },
  	{ .compatible = "mediatek,mt7981-pwm", .data = &mt7981_pwm_data },
  	{ .compatible = "mediatek,mt7986-pwm", .data = &mt7986_pwm_data },
-- 
2.48.1


From 2239791a689127252e4c3a8fb0e69267fd6d6ea8 Mon Sep 17 00:00:00 2001
From: Leo Barsky <leobrsky@proton.me>
Date: Tue, 15 Jul 2025 11:52:35 -0400
Subject: [PATCH 2/2] kernel: bump 6.12 to 6.12.39

Changelog: https://cdn.kernel.org/pub/linux/kernel/v6.x/ChangeLog-6.12.39
All patches auto refreshed.

Signed-off-by: Leo Barsky <leobrsky@proton.me>
---
 ...dd-device-quirks-for-Freeway-Airmouse-T3-an.patch |  2 +-
 ...chip-irq-bcm2712-mip-Support-for-2712-s-MIP.patch |  2 +-
 .../950-0528-drm-Increase-plane_mask-to-64bit.patch  |  2 +-
 ...dd-Broadcom-bcm2712-MSI-X-interrupt-control.patch |  2 +-
 ...dd-support-for-bcm6345-style-external-inter.patch |  2 +-
 .../202-mips-bmips-tweak-Kconfig-options.patch       |  4 ++--
 ...6.14-net-phy-Constify-struct-mdio_device_id.patch |  6 +++---
 .../linux/generic/hack-6.12/902-debloat_proc.patch   |  2 +-
 .../generic/hack-6.12/904-debloat_dma_buf.patch      |  2 +-
 target/linux/generic/kernel-6.12                     |  4 ++--
 ...x-add-qualcomm-ipq5018-internal-phy-support.patch | 12 ++++++------
 11 files changed, 20 insertions(+), 20 deletions(-)

diff --git a/target/linux/bcm27xx/patches-6.12/950-0132-hid-usb-Add-device-quirks-for-Freeway-Airmouse-T3-an.patch b/target/linux/bcm27xx/patches-6.12/950-0132-hid-usb-Add-device-quirks-for-Freeway-Airmouse-T3-an.patch
index 1c13a65b21..dc9c10cb73 100644
--- a/target/linux/bcm27xx/patches-6.12/950-0132-hid-usb-Add-device-quirks-for-Freeway-Airmouse-T3-an.patch
+++ b/target/linux/bcm27xx/patches-6.12/950-0132-hid-usb-Add-device-quirks-for-Freeway-Airmouse-T3-an.patch
@@ -32,7 +32,7 @@ Signed-off-by: Jonathan Bell <jonathan@raspberrypi.org>
  #define USB_VENDOR_ID_BELKIN		0x050d
  #define USB_DEVICE_ID_FLIP_KVM		0x3201
  
-@@ -1460,6 +1463,9 @@
+@@ -1463,6 +1466,9 @@
  #define USB_VENDOR_ID_XIAOMI		0x2717
  #define USB_DEVICE_ID_MI_SILENT_MOUSE	0x5014
  
diff --git a/target/linux/bcm27xx/patches-6.12/950-0345-irqchip-irq-bcm2712-mip-Support-for-2712-s-MIP.patch b/target/linux/bcm27xx/patches-6.12/950-0345-irqchip-irq-bcm2712-mip-Support-for-2712-s-MIP.patch
index b156ff12c2..aa130c1627 100644
--- a/target/linux/bcm27xx/patches-6.12/950-0345-irqchip-irq-bcm2712-mip-Support-for-2712-s-MIP.patch
+++ b/target/linux/bcm27xx/patches-6.12/950-0345-irqchip-irq-bcm2712-mip-Support-for-2712-s-MIP.patch
@@ -31,7 +31,7 @@ Signed-off-by: Jonathan Bell <jonathan@raspberrypi.com>
 
 --- a/drivers/irqchip/Kconfig
 +++ b/drivers/irqchip/Kconfig
-@@ -109,6 +109,14 @@ config I8259
+@@ -110,6 +110,14 @@ config I8259
  	bool
  	select IRQ_DOMAIN
  
diff --git a/target/linux/bcm27xx/patches-6.12/950-0528-drm-Increase-plane_mask-to-64bit.patch b/target/linux/bcm27xx/patches-6.12/950-0528-drm-Increase-plane_mask-to-64bit.patch
index 6fe5d2ad96..1ae93a6b42 100644
--- a/target/linux/bcm27xx/patches-6.12/950-0528-drm-Increase-plane_mask-to-64bit.patch
+++ b/target/linux/bcm27xx/patches-6.12/950-0528-drm-Increase-plane_mask-to-64bit.patch
@@ -32,7 +32,7 @@ Signed-off-by: Dave Stevenson <dave.stevenson@raspberrypi.com>
  	drm_printf(p, "\tmode: " DRM_MODE_FMT "\n", DRM_MODE_ARG(&state->mode));
 --- a/drivers/gpu/drm/drm_framebuffer.c
 +++ b/drivers/gpu/drm/drm_framebuffer.c
-@@ -975,7 +975,7 @@ static int atomic_remove_fb(struct drm_f
+@@ -1002,7 +1002,7 @@ static int atomic_remove_fb(struct drm_f
  	struct drm_connector *conn __maybe_unused;
  	struct drm_connector_state *conn_state;
  	int i, ret;
diff --git a/target/linux/bcm27xx/patches-6.12/950-0901-irqchip-Add-Broadcom-bcm2712-MSI-X-interrupt-control.patch b/target/linux/bcm27xx/patches-6.12/950-0901-irqchip-Add-Broadcom-bcm2712-MSI-X-interrupt-control.patch
index 9f05866ae3..cf917e1f38 100644
--- a/target/linux/bcm27xx/patches-6.12/950-0901-irqchip-Add-Broadcom-bcm2712-MSI-X-interrupt-control.patch
+++ b/target/linux/bcm27xx/patches-6.12/950-0901-irqchip-Add-Broadcom-bcm2712-MSI-X-interrupt-control.patch
@@ -21,7 +21,7 @@ Signed-off-by: Stanimir Varbanov <svarbanov@suse.de>
 
 --- a/drivers/irqchip/Kconfig
 +++ b/drivers/irqchip/Kconfig
-@@ -110,12 +110,20 @@ config I8259
+@@ -111,12 +111,20 @@ config I8259
  	select IRQ_DOMAIN
  
  config BCM2712_MIP
diff --git a/target/linux/bmips/patches-6.12/100-irqchip-add-support-for-bcm6345-style-external-inter.patch b/target/linux/bmips/patches-6.12/100-irqchip-add-support-for-bcm6345-style-external-inter.patch
index 5829fee2ed..27d6b409bb 100644
--- a/target/linux/bmips/patches-6.12/100-irqchip-add-support-for-bcm6345-style-external-inter.patch
+++ b/target/linux/bmips/patches-6.12/100-irqchip-add-support-for-bcm6345-style-external-inter.patch
@@ -50,7 +50,7 @@ Signed-off-by: Jonas Gorski <jogo@openwrt.org>
 +};
 --- a/drivers/irqchip/Kconfig
 +++ b/drivers/irqchip/Kconfig
-@@ -109,6 +109,10 @@ config I8259
+@@ -110,6 +110,10 @@ config I8259
  	bool
  	select IRQ_DOMAIN
  
diff --git a/target/linux/bmips/patches-6.12/202-mips-bmips-tweak-Kconfig-options.patch b/target/linux/bmips/patches-6.12/202-mips-bmips-tweak-Kconfig-options.patch
index e7a69b8184..406f4d3421 100644
--- a/target/linux/bmips/patches-6.12/202-mips-bmips-tweak-Kconfig-options.patch
+++ b/target/linux/bmips/patches-6.12/202-mips-bmips-tweak-Kconfig-options.patch
@@ -43,7 +43,7 @@ Signed-off-by: Álvaro Fernández Rojas <noltari@gmail.com>
  	  BCM33xx cable modem chips, BCM63xx DSL chips, and BCM7xxx set-top
 --- a/drivers/irqchip/Kconfig
 +++ b/drivers/irqchip/Kconfig
-@@ -122,7 +122,6 @@ config BCM6345_L1_IRQ
+@@ -123,7 +123,6 @@ config BCM6345_L1_IRQ
  config BCM7038_L1_IRQ
  	tristate "Broadcom STB 7038-style L1/L2 interrupt controller driver"
  	depends on ARCH_BRCMSTB || BMIPS_GENERIC
@@ -51,7 +51,7 @@ Signed-off-by: Álvaro Fernández Rojas <noltari@gmail.com>
  	select GENERIC_IRQ_CHIP
  	select IRQ_DOMAIN
  	select GENERIC_IRQ_EFFECTIVE_AFF_MASK if SMP
-@@ -130,14 +129,12 @@ config BCM7038_L1_IRQ
+@@ -131,14 +130,12 @@ config BCM7038_L1_IRQ
  config BCM7120_L2_IRQ
  	tristate "Broadcom STB 7120-style L2 interrupt controller driver"
  	depends on ARCH_BRCMSTB || BMIPS_GENERIC
diff --git a/target/linux/generic/backport-6.12/720-09-v6.14-net-phy-Constify-struct-mdio_device_id.patch b/target/linux/generic/backport-6.12/720-09-v6.14-net-phy-Constify-struct-mdio_device_id.patch
index 669b58d22a..a1be891a09 100644
--- a/target/linux/generic/backport-6.12/720-09-v6.14-net-phy-Constify-struct-mdio_device_id.patch
+++ b/target/linux/generic/backport-6.12/720-09-v6.14-net-phy-Constify-struct-mdio_device_id.patch
@@ -469,7 +469,7 @@ Signed-off-by: Jakub Kicinski <kuba@kernel.org>
  	{ PHY_ID_KSZ9131, MICREL_PHY_ID_MASK },
 --- a/drivers/net/phy/microchip.c
 +++ b/drivers/net/phy/microchip.c
-@@ -508,7 +508,7 @@ static struct phy_driver microchip_phy_d
+@@ -509,7 +509,7 @@ static struct phy_driver microchip_phy_d
  
  module_phy_driver(microchip_phy_driver);
  
@@ -579,7 +579,7 @@ Signed-off-by: Jakub Kicinski <kuba@kernel.org>
  	{ PHY_ID_MATCH_MODEL(PHY_ID_TJA1102) },
 --- a/drivers/net/phy/qcom/at803x.c
 +++ b/drivers/net/phy/qcom/at803x.c
-@@ -1098,7 +1098,7 @@ static struct phy_driver at803x_driver[]
+@@ -1071,7 +1071,7 @@ static struct phy_driver at803x_driver[]
  
  module_phy_driver(at803x_driver);
  
@@ -645,7 +645,7 @@ Signed-off-by: Jakub Kicinski <kuba@kernel.org>
  };
 --- a/drivers/net/phy/smsc.c
 +++ b/drivers/net/phy/smsc.c
-@@ -837,7 +837,7 @@ MODULE_DESCRIPTION("SMSC PHY driver");
+@@ -884,7 +884,7 @@ MODULE_DESCRIPTION("SMSC PHY driver");
  MODULE_AUTHOR("Herbert Valerio Riedel");
  MODULE_LICENSE("GPL");
  
diff --git a/target/linux/generic/hack-6.12/902-debloat_proc.patch b/target/linux/generic/hack-6.12/902-debloat_proc.patch
index ce89e4ba13..c52a7ac5f3 100644
--- a/target/linux/generic/hack-6.12/902-debloat_proc.patch
+++ b/target/linux/generic/hack-6.12/902-debloat_proc.patch
@@ -235,7 +235,7 @@ Signed-off-by: Felix Fietkau <nbd@nbd.name>
  	if (!pe)
 --- a/mm/vmalloc.c
 +++ b/mm/vmalloc.c
-@@ -5066,6 +5066,9 @@ static int vmalloc_info_show(struct seq_
+@@ -5074,6 +5074,9 @@ static int vmalloc_info_show(struct seq_
  
  static int __init proc_vmalloc_init(void)
  {
diff --git a/target/linux/generic/hack-6.12/904-debloat_dma_buf.patch b/target/linux/generic/hack-6.12/904-debloat_dma_buf.patch
index 1dbd56b929..bceb474f1a 100644
--- a/target/linux/generic/hack-6.12/904-debloat_dma_buf.patch
+++ b/target/linux/generic/hack-6.12/904-debloat_dma_buf.patch
@@ -74,7 +74,7 @@ Signed-off-by: Felix Fietkau <nbd@nbd.name>
 +MODULE_LICENSE("GPL");
 --- a/kernel/sched/core.c
 +++ b/kernel/sched/core.c
-@@ -4428,6 +4428,7 @@ int wake_up_state(struct task_struct *p,
+@@ -4433,6 +4433,7 @@ int wake_up_state(struct task_struct *p,
  {
  	return try_to_wake_up(p, state, 0);
  }
diff --git a/target/linux/generic/kernel-6.12 b/target/linux/generic/kernel-6.12
index d389e589d8..dbc7c94d28 100644
--- a/target/linux/generic/kernel-6.12
+++ b/target/linux/generic/kernel-6.12
@@ -1,2 +1,2 @@
-LINUX_VERSION-6.12 = .38
-LINUX_KERNEL_HASH-6.12.38 = f035fa8d83d59f793c76b23567b130cc42118f10696815fed03c16bb15670fcc
+LINUX_VERSION-6.12 = .39
+LINUX_KERNEL_HASH-6.12.39 = dd14a5257b13e521b40ba7225099dea272df5d1cb419945e17c38f870fdc55f4
diff --git a/target/linux/qualcommax/patches-6.12/0712-net-phy-qcom-at803x-add-qualcomm-ipq5018-internal-phy-support.patch b/target/linux/qualcommax/patches-6.12/0712-net-phy-qcom-at803x-add-qualcomm-ipq5018-internal-phy-support.patch
index acdd74b545..394eca19da 100644
--- a/target/linux/qualcommax/patches-6.12/0712-net-phy-qcom-at803x-add-qualcomm-ipq5018-internal-phy-support.patch
+++ b/target/linux/qualcommax/patches-6.12/0712-net-phy-qcom-at803x-add-qualcomm-ipq5018-internal-phy-support.patch
@@ -69,7 +69,7 @@ Signed-off-by: George Moussalem <george.moussalem@outlook.com>
  #include <dt-bindings/net/qca-ar803x.h>
  
  #include "qcom.h"
-@@ -96,6 +101,8 @@
+@@ -93,6 +98,8 @@
  #define ATH8035_PHY_ID				0x004dd072
  #define AT8030_PHY_ID_MASK			0xffffffef
  
@@ -78,7 +78,7 @@ Signed-off-by: George Moussalem <george.moussalem@outlook.com>
  #define QCA9561_PHY_ID				0x004dd042
  
  #define AT803X_PAGE_FIBER			0
-@@ -108,6 +115,50 @@
+@@ -105,6 +112,50 @@
  /* disable hibernation mode */
  #define AT803X_DISABLE_HIBERNATION_MODE		BIT(2)
  
@@ -129,7 +129,7 @@ Signed-off-by: George Moussalem <george.moussalem@outlook.com>
  MODULE_DESCRIPTION("Qualcomm Atheros AR803x PHY driver");
  MODULE_AUTHOR("Matus Ujhelyi");
  MODULE_LICENSE("GPL");
-@@ -133,6 +184,11 @@ struct at803x_context {
+@@ -130,6 +181,11 @@ struct at803x_context {
  	u16 led_control;
  };
  
@@ -141,7 +141,7 @@ Signed-off-by: George Moussalem <george.moussalem@outlook.com>
  static int at803x_write_page(struct phy_device *phydev, int page)
  {
  	int mask;
-@@ -987,6 +1043,105 @@ static int at8035_probe(struct phy_devic
+@@ -960,6 +1016,105 @@ static int at8035_probe(struct phy_devic
  	return at8035_parse_dt(phydev);
  }
  
@@ -247,7 +247,7 @@ Signed-off-by: George Moussalem <george.moussalem@outlook.com>
  static struct phy_driver at803x_driver[] = {
  {
  	/* Qualcomm Atheros AR8035 */
-@@ -1079,6 +1234,19 @@ static struct phy_driver at803x_driver[]
+@@ -1052,6 +1207,19 @@ static struct phy_driver at803x_driver[]
  	.soft_reset		= genphy_soft_reset,
  	.config_aneg		= at803x_config_aneg,
  }, {
@@ -267,7 +267,7 @@ Signed-off-by: George Moussalem <george.moussalem@outlook.com>
  	/* Qualcomm Atheros QCA9561 */
  	PHY_ID_MATCH_EXACT(QCA9561_PHY_ID),
  	.name			= "Qualcomm Atheros QCA9561 built-in PHY",
-@@ -1104,6 +1272,7 @@ static const struct mdio_device_id __may
+@@ -1077,6 +1245,7 @@ static const struct mdio_device_id __may
  	{ PHY_ID_MATCH_EXACT(ATH8032_PHY_ID) },
  	{ PHY_ID_MATCH_EXACT(ATH8035_PHY_ID) },
  	{ PHY_ID_MATCH_EXACT(ATH9331_PHY_ID) },
-- 
2.48.1

